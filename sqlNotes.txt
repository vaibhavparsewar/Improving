üß°COMMENTS => --
üß°IN CMD => mysql -u root -p 
üß°quit => to come out of mysql
üß°3306
üß°system cls => clear mysql
üß°* => means select all columns



üß°DATABASE
‚≠êselect 1+1; 
‚≠êsystem cls; => to clear the terminal
‚≠êshow databases; => to show the data bases 
‚≠êCreate databases A; => to create the data bases 
‚≠êUse databases A; => to Use the data bases 
‚≠êSelect databases(); => to know current workng database
‚≠êDrop databases A; => to delete the data bases 

üß°TABLES
‚≠êCREATE table cats (name varchar(100), age int); => to create table
‚≠êSHOW tables; => to show the tables
üî•üî•SHOW columns from cats     OR SP_help  OR    desc cats; => to show columns of cat tables
‚≠êDROP table cats; => to delete the table
‚≠êINSERT INTO cats (name, age) 
   VALUES ('Jenkins', 7); 
//MULTIPLE INSERTS
‚≠êINSERT INTO cats (name, age)                                  //even if you don't give the values to name and age its default is NULL
   VALUES 
   ('Meatball', 5), 
   ('Turkey', 1);
//CONSTRAINTS
‚≠êCREATE TABLE cats2 (
    age INT NOT NULL
    );



üß°'' => Always use single quotes you can use double but to avoide the confusion in other sql databases
üß°'\' => use backslash to skip the imp notations

üß°DEFAULT 
‚≠êCREATE table cats (name varchar(100) NOT NULL DEFAULT 'ANONYMOUSLY', age int NOT NULL DEFAULT 10);

üß°PRIMARY KEY
‚≠êCREATE TABLE unique_cats (
	cat_id INT PRIMARY KEY,                             //here you can give 3999, 1000 but it should not be duplicate and not null and it sorts by itself
    );
‚≠êOR
    CREATE TABLE unique_cats2 (
	cat_id INT,
    PRIMARY KEY (cat_id)
);

üß°AUTO_INCREMENT
    CREATE TABLE unique_cats2 (
	cat_id INT AUTO_INCREMENT,
    PRIMARY KEY (cat_id)
);

üß°AUTO_INCREMENT, DEFAULT, NOT NULL, PRIMARY KEY ()
‚≠êCREATE TABLE employees (
    id INT AUTO_INCREMENT,
    first_name VARCHAR(255) NOT NULL,
    last_name VARCHAR(255) NOT NULL,
    middle_name VARCHAR(255),
    age INT NOT NULL,
    current_status VARCHAR(255) NOT NULL DEFAULT 'employed',
    PRIMARY KEY (id)
);



üß°KEYWORDS
‚≠êSELECT 1*10;
‚≠êSELECT * from cats;
‚≠êSELECT name, breed FROM cats;

üß°WHERE  ==> Allows to narrow things down
‚≠êSELECT * FROM cats WHERE name ='Egg';

üß°ALIAS => it's temporary name to columns
‚≠êSELECT cat_id AS id, name FROM cats;

üß°UPDATE =>use comma for multiple updates
‚≠êUPDATE cats set name =jenna' where lname = 'racoon';
‚≠êUPDATE shirts 
    SET 
        color = 'off white',
        shirt_size = 'XS'
    WHERE
        color = 'white';


//update and delete karnyachya adhi t baghun ghe tech aahe ka nahi t
üß°DELETE 
‚≠êDELETE from cats;
‚≠êDELETE from cats where name = 'chu' Returning name;


üß°if book_data.sql file given Then two methods
‚≠êin sqlworkbench click on folder icon which says "open-a-script-file-in-this-editor" and import that file there
‚≠êDROP
1)download the file and store it to folder 
2)open cmd and do cd to goto that directory
3)create one database and use it
4)Then write this query (source book_data.sql)                      //The source command reads and executes all the SQL statements contained in a specified file. 
5)now you can use book tables inside it's


üß°STRING FUNCITONS
‚≠êconcat()
select concat(fname,' ',lname) as fullname from books;

‚≠êconcat_WS()  => WS means separate with
select concat_WS('-',fname,' ',lname) as fullname from books;

‚≠êsubstring() or substr()
SELECT SUBSTRING('Hello World', 1, 4);
SELECT SUBSTRING('Hello World', 7);
SELECT SUBSTRING('Hello World', -3);
SELECT SUBSTRING(title, 1, 10) AS 'short title' FROM books; 
SELECT SUBSTR(title, 1, 10) AS 'short title' FROM books;

üß°SUBSTRING AND CONCAT 
‚≠êSELECT CONCAT(SUBSTRING(title, 1, 10),'...') AS 'short title' FROM books;

üß°REPLACE()  ==> only to display not modify the data
‚≠êSELECT REPLACE('cheese bread coffee milk', ' ', ' and ');         //working with, to be replaced, replace with

üß°REVERSE()  ==> only to display not modify the data
‚≠êSELECT CONCAT(author_fname, REVERSE(author_fname)) FROM books;

üß°CHAR_LENGTH() and Length() ==> length() gives the each character stored in bytes and CHAR_LENGTH() return the value of no.of character
we mostly char_length() more because when we give chinese language length() even if it is 2 character it gives 6
‚≠êSELECT CONCAT(author_fname, REVERSE(author_fname)) FROM books;



üß°LOWER(), OR LCASE(), UPPER() or UCASE()  ==> only to display not modify the data
‚≠êSELECT UPPER(author_fname) FROM books;

üß°INSERT('working with' , where to insert location, how many to replace, what to insert ), 
‚≠êSELECT UPPER(author_fname, 3, 0, 'author') FROM books;

üß°LEFT(),RIGHT() 
‚≠êSELECT LEFT(author_fname,1) FROM books;   //takes initial fo name

üß°REPEAT() 
‚≠êSELECT REPEAT(author_fname,4) FROM books;   //repeats author_fname four times

üß°TRIM() 
‚≠êSELECT TRIM('    vaibhav    ') FROM books;   //removes beg and trailing spaces
‚≠êSELECT TRIM(leading '.' from '......vaibhav.....') FROM books;   //we can use (LEADING, TRAILING, BOTH)

üß°DISTINCT 
‚≠êSELECT DISTINCT author_fname,author_lname FROM books;   //will apply distinct on combinely not individually
OR
‚≠êSELECT DISTINCT CONCAT(author_fname,' ', author_lname) FROM books;

üß°ORDER BY
‚≠êSELECT author_fname FROM books ORDER BY author_fname ASC;   //will give all null first
OR
‚≠êSELECT author_fname FROM books ORDER BY author_fname DESC;
OR
‚≠êSELECT id,age,amount FROM books ORDER BY 2;                   //here 2 means second column in selection
OR
‚≠êSELECT id,age,amount FROM books ORDER BY id,amount,age DESC;                   //here applying on first column and then second column then third column

üß°LIMIT
‚≠êSELECT author_fname FROM books LIMIT 5;   
OR
‚≠êSELECT id,age,amount FROM books Limit 2,3;                   //first no. is starting row it starts with 0th row and second no. is how many to retrieve
OR
‚≠êSELECT id,age,amount FROM books Limit 2,30000000;                   //it will not give error it returns only that many rows that are below 2nd row

üß°LIKE ==> used when we don't need to do exact match
‚≠êSELECT author_fname FROM books WHERE fname LIKE '%:%';            //% means any length of characters   
OR
‚≠êSELECT id,age,amount FROM books WHERE fname LIKE '____';          //only 4 characters long
OR
‚≠êSELECT id,age,amount FROM books  WHERE fname LIKE '%\%%';                   //it will not give error it returns only that many rows that are below 2nd row




üß°AGGREGATION
üß°count()
‚≠êSELECT COUNT(*) from books;               //counts the no.of rows
‚≠êSELECT title, COUNT(*) from books;            //never use like this as COUNT(*) gives single row and title gives multiple rows so it's not compatible
‚≠êSELECT COUNT(f_name) form books;              //checks whether value is present in that row or not if yes then ++ if no value in f_name then it will not count 
‚≠êSELECT COUNT(DISTINCT f_name) form books;              //checks whether value is present in that row or not if yes then ++ if no value in f_name then it will not count 
‚≠êSELECT COUNT(*) form books WHERE title like '% the %';        //no of title which contains the in them


üß°Group By ==> Aggregates similar rows into single row and note always use aggregation function with it while selecting
‚≠êSELECT f_name, COUNT(*) from books Group by name;               //name ni group kar eka row madhe ani count mg eka row madhe kiti row aahet t kadhta
‚≠êSELECT 
    author_lname, COUNT(*) AS books_written
    FROM
        books
    GROUP BY author_lname
    ORDER BY books_written DESC;

üß°MIN(), MAX() ==> Aggregation funciton
‚≠êSELECT MAX(pages) FROM books;
‚≠êSELECT MIN(author_lname) FROM books;

Q.) want the title of most pages book?
üíîSELECT MAX(pages), title from books ;         //we cannot do this bcoz we are using aggregation so we need to use similar data not different 

in this case we have to use SUBQUERY    
SELECT title, pages FROM books WHERE pages = (SELECT MAX(pages) FROM books);        //SUBQUERY


Q.)suppose we want how many books does authors has
‚≠êSELECT author_fname, author_lname, COUNT(*)           //whenever you do group by use aggregation on that 
FROM books 
GROUP BY author_lname, author_fname;                    //group by on fname and lname as there may be same fname or lname or both taken
 
 OR
 
‚≠êSELECT CONCAT(author_fname, ' ', author_lname) AS author,  COUNT(*)
FROM books
GROUP BY author;


Q.)find the first book of each author
‚≠êSELECT f_name, l_name, min(released_year), max(pages) from books  group by f_name, l_name;
‚≠êSELECT 
	author_lname, 
        author_fname,
        COUNT(*) as books_written, 
        MAX(released_year) AS latest_release,
        MIN(released_year)  AS earliest_release
    FROM books GROUP BY author_lname, author_fname;



üß°SUM()
‚≠êSELECT author_lname, COUNT(*), SUM(pages)         //these aggregation count and sum applied on each group of group by
    FROM books
    GROUP BY author_lname;


üß°AVG()
‚≠êSELECT 
    released_year,                          //these aggregation count and avg applied on each group of group by
    AVG(stock_quantity),                    
    COUNT(*) FROM books
GROUP BY released_year;

‚≠êSELECT 
    released_year AS year,
    COUNT(*) AS '# books',              //when you want to give space in column name then use ''
    AVG(pages) AS 'avg pages'
FROM books
GROUP BY released_year
ORDER BY released_year;



üß°üß°DATATYPES
üß°char => fixed length, used for zipcodes, y/n flags, waste of memory, if less length string given then remaining is filled with white spaces , and while retrieving spaces are removed
üß°varchar => variable length, doesnot waste memory by using white spaces
if you are inserting data greater than specified then it will give error 

üß°üß°NUMERIC
üß°TinyINT => 1byte whole no.
üß°smallINT =>2byte whole no.
üß°MediumINT => 3byte whole no.
üß°INT => 4byte whole no.
üß°BigINT => 8byte 

üß°üß°DECIMAL, Float, Double
‚≠êcreate table products(price DeCIMAL(5,2))                 //here 5 is total digits and 2 is no.of digits after decimal you can even give more digits after decimal it will auto roundoff 

üß°FLOAT and DOUBLE can store large numbers with small space than deciaml
üß°float takes 4BYTES and double takes 8Bytes
üß°float can handle 7digits after decimal and double can handle 15 digits after decimal 


üß°üß°DATE, TIME, DATETIME
üß°DATE => yyyy-mm-dd
üß°TIME => HH:MM:SS
üß°DATETIME => yyyy-mm-dd HH:MM:SS
‚≠êCREATE TABLE people (
	name VARCHAR(100),
    birthdate DATE,
    birthtime TIME,
    birthdt DATETIME
);

üß°üß°CURRENT DATE AND TIME METHODS
üß°CURRENT_TIME()
üß°CURRENT_DATE()
üß°CURTIME()
üß°CURDATE()
üß°NOW()                     //now() gives datetime both
üß°CURRENT_TIMESTAMP()       
‚≠êINSERT INTO people (name, birthdate, birthtime, birthdt)
   VALUES ('Hazel', CURDATE(), CURTIME(), NOW());


üß°üß° DATE methods
üß°DAY()
üß°MONTH()
üß°YEAR()
üß°DAYOFWEEK()
üß°DAYOFYEAR()
üß°MONTHNAME()
üß°DAYNAME()
‚≠êSELECT 
    birthdate,
    DAY(birthdate),                       //birthdt has type datetime
    DAYOFWEEK(birthdate),
    DAYOFYEAR(birthdate)
    FROM people;


üß°üß° TIME methods
üß°HOUR()
üß°MINUTE()
üß°SECOND()
‚≠êSELECT 
    birthtime,
    HOUR(birthtime),
    MINUTE(birthtime)
FROM people;


üß°üß° DATETIME methods
üß°DATE(birthdt)
üß°TIME(birthdt)
üß°SECOND()
üß°DAYOFWEEK()
üß°DAYOFYEAR()
üß°MONTHNAME()
‚≠êSELECT 
    birthdt,                    //birthdt of type datetime
    MONTH(birthdt),
    DAY(birthdt),
    HOUR(birthdt),
    MINUTE(birthdt)
FROM people
       

üß°üß°FORMATTING => DATE_FORMAT(column with which you are working, 'format using %a,%b,%c,%d')
Specifier Description
%a                 Abbreviated weekday name (Sun..Sat)
%b                  Abbreviated month name (Jan..Dec)
%C                  Month, numeric (0..12)
%D                  Day of the month with English suffix (0th, 1st, 2nd, 3rd, ...)
%d                  Day of the month, numeric (00..31)
%e                  Day of the month, numeric (0..31)
%f                  Microseconds (000000..999999)
%H                 Hour (00..23)
%h                  Hour (01..12)
%1                  Hour (01..12)
%i                 Minutes, numeric (00..59)
%j                  Day of year (001..366)
%k                 Hour (0..23)
%1                  Hour (1..12)
‚≠êSELECT birthdate, DATE_FORMAT(birthdate, '%a %b %D') FROM people;
‚≠êSELECT birthdt, DATE_FORMAT(birthdt, '%H:%i') FROM people;
‚≠êSELECT birthdt, DATE_FORMAT(birthdt, 'BORN ON: %r') FROM people;


üß°üß°DATE  AND TIME MATH
‚≠êselect DATEDIFF(CURDATE(), column name)              //we also have TIMEDIFF 
‚≠êselect DATEADD(CURDATE(), INTERVAL 1 MONTH)
OR
‚≠êselect CURDATE()  + INTERVAL 1 MONTH



üß°üß°TIMESTAMP
üß°similar to datetime but timestamp ranges from (is '1970-01-01 00:00:01.000000' to '2038-01-19 03:14:07.999999')
and datetime ranges from (1000-01-01 00:00:00.000000' to '9999-12-31 23:59:59.999999)

üß°üß°Default timestamp
‚≠êCREATE table captions(cretedOn TIMESTAMP default CURRENT_TIMESTAMP,
                         updateOn TIMESTAMP ON UPDATE CURRENT_TIMESTAMP)           //whenever text or anything changed it will auto update itself



üß°üß°OPERATORS
üß°!= => ‚≠êSELECT * FROM books
WHERE released_year != 2017;

üß°NOT LIKE => ‚≠êSELECT * FROM books
WHERE title NOT LIKE '%e%';

üß°> => ‚≠êSELECT * FROM books
WHERE released_year > 2005;
‚≠êSELECT 1>NULL;          //returns NULL
‚≠êSELECT 100>2;          //returns 1 as true

üß°< => ‚≠êSELECT * FROM books
WHERE pages < 200;
‚≠êSELECT * FROM books
WHERE released_year <= 1985;         //returns 1 as true


üß°AND => ‚≠êSELECT title, author_lname, released_year FROM books
WHERE released_year > 2010
AND author_lname = 'Eggers'
AND title LIKE '%novel%';



üß°OR => ‚≠êSELECT title, pages FROM books
WHERE pages < 200 
OR title LIKE '%stories%';


üß°BETWEEN and NOT BETWEEN => 
‚≠êSELECT title, released_year FROM books
WHERE released_year BETWEEN 2004 AND 2014;


üß°CAST => 
‚≠êSELECT * FROM people WHERE birthtime 
BETWEEN CAST('12:00:00' AS TIME) 
AND CAST('16:00:00' AS TIME);
‚≠êSELECT * FROM people WHERE HOUR(birthtime)                //taking hour from birthtime column
BETWEEN 12 AND 16;



üß°IN  NOT IN=> 
‚≠êSELECT title, author_lname FROM books
WHERE author_lname NOT IN ('Carver', 'Lahiri', 'Smith');


üß°CASE STATEMENTS=>  only one gets execute , no comma after each when then
‚≠êSELECT title, stock_quantity,
    CASE
        WHEN stock_quantity BETWEEN 0 AND 40 THEN '*'
        WHEN stock_quantity BETWEEN 41 AND 70 THEN '**'
        WHEN stock_quantity BETWEEN 71 AND 100 THEN '***'
        WHEN stock_quantity BETWEEN 101 AND 140 THEN '****'
        ELSE '*****'
    END AS stock
FROM books;


üß°IS NULL, IS NOT NULL =>                                            //we use this bcoz = NULL don't work so we use IS NULL
‚≠êSELECT title from books where title IS NULL;

üß°üß°quesiton
‚≠êSELECT author_fname, author_lname,
	CASE
        WHEN COUNT(*) = 1 THEN '1 book'
        ELSE CONCAT(COUNT(*), ' books')
	END AS count
FROM books
WHERE author_lname IS NOT NULL
GROUP BY author_fname, author_lname;


üß°üß°CONSTRAINTS
üß°UNIQUE => 
‚≠êCREATE TABLE contacts (
	name VARCHAR(100) NOT NULL,
    phone VARCHAR(15) NOT NULL UNIQUE
);

üß°CHECK =>  customized constraint
‚≠êCREATE TABLE contacts (
	age NOT NULL CHECK (age>20););

‚≠êCREATE TABLE palindromes (
  word VARCHAR(100) CHECK(REVERSE(word) = word)
)

üß°named constraint=>  customized constraint
‚≠êCREATE TABLE contacts (
	age NOT NULL,
    CONSTRAINT age_above_20 CHECK (age>20)                  //if error then gives age_anove_20 violated
);

üß°named constraint on multiple column=>  customized constraint
‚≠êCREATE TABLE contacts (
	age NOT NULL,
    CONSTRAINT name_address UNIQUE(name , address)              //name and address combination should be unique 
);
‚≠êCREATE TABLE houses (
  purchase_price INT NOT NULL,
  sale_price INT NOT NULL,
  CONSTRAINT sprice_gt_pprice CHECK(sale_price >= purchase_price)
);


üß°üß°ALTER
üß°ALTER ADD=> for columns
‚≠êALTER TABLE companies
ADD COLUMN employee_count INT NOT NULL DEFAULT 1;               //if not null not given then NULL will be there and if default not given then 0 will be there

üß°ALTER DROP=>
‚≠êALTER TABLE companies DROP COLUMN if Exists phone CASCADE;    //cascade if any dependencies and if exsists to handle

üß°ALTER Rename=>
‚≠êALTER TABLE companies RENAME to Organization;   
‚≠êALTER TABLE companies RENAME column kellogs to Organization;   

üß°ALTER MODIFY/CHANGE=>  to modify the columns datatype 
‚≠êALTER TABLE companies MODIFY column company_name varchar(100) Default 'no name';   
‚≠êALTER TABLE companies CHANGE column company_name varchar(100) Default 'no name';


üß°ALTER ADD=> if we want to add Named COnstraint
‚≠êALTER TABLE houses 
ADD CONSTRAINT positive_pprice CHECK (purchase_price >= 0);         //positive_pprice is name of that constraint
‚≠êALTER TABLE houses DROP CONSTRAINT positive_pprice;



üß°üß°RELATIONSHIP AND JOINS
üß°one-one => one user can have only one driver licence and one driver licence can be of only of one user
üß°one-many => one user can have multiple orders and one order can be of only single user
‚≠êCREATE TABLE customers (
    id INT PRIMARY KEY AUTO_INCREMENT,
    first_name VARCHAR(50),
    last_name VARCHAR(50),
    email VARCHAR(50)
);
CREATE TABLE orders (
    id INT PRIMARY KEY AUTO_INCREMENT,
    order_date DATE,
    amount DECIMAL(8,2),
    customer_id INT,
    FOREIGN KEY (customer_id) REFERENCES customers(id)              //foreign key
);
 
INSERT INTO customers (first_name, last_name, email) 
VALUES ('Boy', 'George', 'george@gmail.com'),
       ('George', 'Michael', 'gm@gmail.com'),
       ('David', 'Bowie', 'david@gmail.com'),
       ('Blue', 'Steele', 'blue@gmail.com'),
       ('Bette', 'Davis', 'bette@aol.com');
       
INSERT INTO orders (order_date, amount, customer_id)
VALUES ('2016-02-10', 99.99, 1),
       ('2017-11-11', 35.50, 1),
       ('2014-12-12', 800.67, 2),
       ('2015-01-03', 12.50, 2),
       ('1999-04-11', 450.25, 5);

üß°many-many => one user can create multiple  accounts in bank and one bank can have multiple accounts of users


üåºüåºüí•üí•üí•JOIN ==> both tables whole columns present in result
üß°üß°CROSS JOIN  -- To perform a (kind of useless) cross join:
‚≠êSELECT * FROM customers, orders;                                //every row of this table attached with every row of that table

üß°üß°INNER JOIN or just JOIN (we will get overlap data)
‚≠êSELECT * FROM customers
   JOIN orders 
   ON orders.customer_id = customers.id;
 
 //total amount spend by each customer
‚≠êSELECT 
    first_name, last_name, SUM(amount) AS total         //as we are grouping on them combinely
FROM
    customers JOIN orders ON orders.customer_id = customers.id
GROUP BY first_name , last_name
ORDER BY total;

üß°üß°FOREIGNKEY ==> is says that every value in foreignkey column is to be there in primary key where it is referencing, its value can be NULL

üß°üß°LEFT JOIN (we take every row of left table and it will give NULL value in column of other table)
‚≠êSELECT * FROM customers LEFT JOIN orders 
   ON orders.customer_id = customers.id

//using groupby and ifNULL(,)
Q.)we want total amount spended by customer but due to left join few customers amount will be null so in that place replace it with 0 so use IFNULL(,)
‚≠êSELECT f_name,l_name, IFNULL(sum(amount,0)) FROM customers LEFT JOIN orders 
   ON orders.customer_id = customers.id
   Group by f_name,l_name


üß°üß°RIGHT JOIN (we take every row of right table and it will give NULL value in column of left table)
‚≠êSELECT 
    first_name, last_name, order_date, amount
FROM customers RIGHT JOIN orders ON customers.id = orders.customer_id;

//using groupby and ifNULL(,)
Q.)we want total amount spended by customer but due to left join few customers amount will be null so in that place replace it with 0 so use IFNULL(,)
‚≠êSELECT f_name,l_name, IFNULL(sum(amount),0) FROM customers LEFT JOIN orders 
   ON orders.customer_id = customers.id
   Group by f_name,l_name


üß°üß°üß° ON DELETE CASCADE 
we have two tables 1)customer 2)order    now if we delete any customer details it will not get deleted as order table has foreign key which is referencing customer table 
so in this case while creating order table while we are giving foreign key constraint give ON DELETE CASCADE 
so due to this when we are deleting customer in customer table id related to it will get deleted in order table as well
‚≠êCREATE TABLE customers (
    id INT PRIMARY KEY AUTO_INCREMENT,
    first_name VARCHAR(50),
    last_name VARCHAR(50),
    email VARCHAR(50)
);
CREATE TABLE orders (
    id INT PRIMARY KEY AUTO_INCREMENT,
    order_date DATE,
    amount DECIMAL(8 , 2 ),
    customer_id INT,
    FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE CASCADE        //we gave it here‚≠ê
);


üß°üß°üß°EXERCISE
üß°we can print any column on which we are doin the join
üß°if table-1 columns are on the left side in result then left join
üß°if table-1 columns are on the right side in result then right join
Q)
CREATE TABLE students (
    id INT PRIMARY KEY AUTO_INCREMENT,
    first_name VARCHAR(50)
);
 
 
CREATE TABLE papers (
    title VARCHAR(50),
    grade INT,
    student_id INT,
    FOREIGN KEY (student_id)
        REFERENCES students (id)
);
 
 
SELECT 
    first_name, title, grade
FROM
    students
        JOIN
    papers ON papers.student_id = students.id
ORDER BY grade DESC;
 
 
 
SELECT 
    first_name, title, grade
FROM
    students
        LEFT JOIN
    papers ON papers.student_id = students.id;
 
 
 
SELECT 
    first_name, IFNULL(title, 'MISSING'), IFNULL(grade, 0)
FROM
    students
        LEFT JOIN
    papers ON papers.student_id = students.id;
 
 
 
SELECT 
    first_name, IFNULL(AVG(grade), 0) AS average
FROM
    students
        LEFT JOIN
    papers ON students.id = papers.student_id
GROUP BY first_name
ORDER BY average DESC;
 
 
 
SELECT 
    first_name,
    IFNULL(AVG(grade), 0) AS average,
    CASE
        WHEN IFNULL(AVG(grade), 0) >= 75 THEN 'passing'
        ELSE 'failing'
    END AS passing_status
FROM
    students
        LEFT JOIN
    papers ON students.id = papers.student_id
GROUP BY first_name
ORDER BY average DESC;




üß°üß°üß°MANY TO MANY RELATIONSHIPS
Books and Author
Student and Classes

CREATE TABLE reviewers (
    id INT PRIMARY KEY AUTO_INCREMENT,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL
);
 
CREATE TABLE series (
    id INT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(100),
    released_year YEAR,
    genre VARCHAR(100)
);
 
CREATE TABLE reviews (
    id INT PRIMARY KEY AUTO_INCREMENT,
    rating DECIMAL(2 , 1 ),
    series_id INT,
    reviewer_id INT,
    FOREIGN KEY (series_id)
        REFERENCES series (id),
    FOREIGN KEY (reviewer_id)
        REFERENCES reviewers (id)
);

‚≠êSELECT title, rating
FROM series JOIN
reviews ON series.id = reviews.series_id;

‚≠êSELECT 
    title, ROUND(AVG(rating), 2) AS avg_rating
FROM
    series
        JOIN
    reviews ON series.id = reviews.series_id
GROUP BY title
ORDER BY avg_rating;